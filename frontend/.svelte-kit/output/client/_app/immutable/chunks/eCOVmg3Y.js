import{i as N,j as h,k as m,E as x,l as R,H as q,s as D,m as F,n as y,o as L,p as A,q as C,U as H,t as O,v as U,w as Y,x as j,y as w,z,b as B,A as M,S as P}from"./OKBPzi3Z.js";function G(s,f,c=!1){h&&m();var i=s,e=null,a=null,r=H,S=c?x:0,d=!1;const g=(l,t=!0)=>{d=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&U(l),t&&Y(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let p=!1;if(h){const I=R(i)===q;!!r===I&&(i=D(),F(i),y(!1),p=!0)}var k=O(),u=i;if(k&&(n=document.createDocumentFragment(),n.append(u=L())),r?e??(e=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),k){var _=C,T=r?e:a,E=r?a:e;T&&_.skipped_effects.delete(T),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();p&&y(!0)};N(()=>{d=!1,f(g),d||v(null,null)},S),h&&(i=j)}function b(s,f){return s===f||(s==null?void 0:s[P])===f}function J(s={},f,c,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],B(()=>{s!==c(...a)&&(f(s,...a),e&&b(c(...e),s)&&f(null,...e))})}),()=>{M(()=>{a&&b(c(...a),s)&&f(null,...a)})}}),s}export{J as b,G as i};
